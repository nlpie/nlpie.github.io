<header class="navbar navbar-expand navbar-dark flex-column flex-md-row bg-primary">
  {%- assign default_paths = site.pages | filter:  | map: "path" -%}
  {%- assign page_paths = site.header_pages | default: default_paths -%}
  {%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}
  <a class="navbar-brand" href="{{ '/' | relative_url  }}">{{ site.title | escape }}</a>
  <div class="navbar-nav-scroll">
    <ul class="navbar-nav flex-row">
      <li class="nav-item {% if page.url == '/' %}active{% endif %} ">
        <a class="nav-link" href="{{ '/' | relative_url  }}">Home</a>
      </li>
      {%- for path in page_paths -%}
        {%- assign my_page = site.pages | where: "path", path | first -%}
        {%- if my_page.title -%}
        <li class="nav-item {% if page.url == my_page.url or page.subpage == my_page.title %}active{% endif %} ">
          <a class="nav-link" href="{{ my_page.url | relative_url  }}"> {{ my_page.title | escape }} </a>
        </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
  {% assign right_headers = site.right_headers %}
  <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
    {%- for right_header in right_headers -%}
      <li class="nav-item">
        <a class="nav-link" href="{{ right_header.href  }}"> {{ right_header.name | escape }} </a>
      </li>
    {% endfor %}
  </ul>
</header>
